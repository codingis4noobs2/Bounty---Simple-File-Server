# Bounty---Simple-File-Server

## Features
- **File Serving**: Serves files from the server's root directory. If a file is found at the requested path, the server sends the file back as the response body along with proper headers.
- **Directory Listing**: When a directory is requested, it generates and sends an HTML page listing the contents of the directory.
- **MIME Type Detection**: Uses the `infer` crate to determine the file's MIME type and sets the appropriate `Content-Type` header.
- **Error Handling**:
  - **403 Forbidden**: Prevents access to paths outside the server root.
  - **404 Not Found**: Responds with a 404 HTML page if the requested resource does not exist.

## Code Structure

### `HttpResponse`
This struct represents the HTTP response generated by the server. It includes:
- `version`: HTTP version (e.g., `HTTP/1.1`).
- `status`: The response status (e.g., `200 OK`, `404 Not Found`).
- `content_length`: Length of the response body.
- `accept_ranges`: Defines whether byte-range requests are supported.
- `response_body`: Contains the body of the response, which could be an HTML page or file content.
- `current_path`: The path of the requested resource.

### Response Statuses
The server defines two HTTP response statuses in the `ResponseStatus` enum:
- `OK (200)`: Indicates that the request was successful.
- `NotFound (404)`: Indicates that the requested resource was not found.

### Accept Ranges
The `AcceptRanges` enum is used to handle `Accept-Ranges` headers in HTTP responses, with two values:
- `Bytes`: Indicates support for range requests.
- `None`: Indicates no support for range requests.

### Request Handling
When a request is received:
1. The server checks whether the requested resource exists in the server root directory.
2. If the requested resource is a file:
   - The file is read, and its contents are served along with appropriate headers (e.g., MIME type).
3. If the requested resource is a directory:
   - The server responds with an HTML page containing the directory's contents.
4. If the requested path does not exist:
   - The server responds with a "404 Not Found" HTML page.
5. If the request tries to access a path outside the server root:
   - The server responds with a "403 Forbidden" error.

## Example Usage

To run this project, ensure you have Rust installed on your system. Follow the steps below to get started:

1. Clone the repository:
   ```sh
   git clone https://github.com/codingis4noobs2/Bounty---Simple-File-Server.git
   ```

2. Navigate to the project directory:
   ```sh
   cd simple-http-server
   ```

3. Build the project:
   ```sh
   cargo build
   ```

4. Run the server:
   ```sh
   cargo run
   ```

The server will start and serve content from the directory it was run from. By default, it serves files and directories relative to its root directory.

## Error Pages
- **404 Not Found**: If a requested resource cannot be found, the server will return a "404 Not Found" error page.
- **403 Forbidden**: If a client attempts to access a resource outside the server's root directory, the server returns a "403 Forbidden" error page.

## Logging
- The server logs each requested path and whether it serves a file, directory, or an error page. This helps to monitor which resources are being accessed and any potential issues during execution.

## Dependencies

- `std`
- `infer`
- `url-escape`
- `walkdir`
